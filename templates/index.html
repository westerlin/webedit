<!DOCTYPE html>
<html lang="en">
<head>
<title>Simple Sublime</title>
    <style type="text/css" media="screen">
    </style>
    <script src="{{ url_for('static', filename='src/ace.js') }}" type="text/javascript" ></script>
    <script src="{{ url_for('static', filename='editor.js') }}" type="text/javascript" ></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='iconfont/material-icons.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='editor.css') }}" />
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">

</head>
<body onkeydown="ctrls_press(event)" >
<div style="width:100%;height:100%;display:flex;">
<div class="folderview" id="folderview">
        <div class="fileitem">
           <div onclick="openclose(this);"> <i class="material-icons floating">folder_open</i><div class="floating">python</div></div>
            <ul class="foldercontent">
                <div class="fileitem" onclick="sendLoadFile('C:/git/python/editor/demo.py');">
                    <i class="material-icons floating">sort</i><div class="floating">demo.py</div>
                </div>
                <div class="fileitem" onclick="tester();">
                    <i class="material-icons floating">sort</i><div class="floating">test me ;-)</div>
                </div>
            </ul>    
        </div>
        <div class="fileitem">
           <div onclick="openclose(this);"> <i class="material-icons floating">folder_open</i><div class="floating">python</div></div>
            <ul class="foldercontent">
                <div class="fileitem">
                    <i class="material-icons floating">sort</i><div class="floating">miniDLT.py</div>
                </div>
                <div class="fileitem">
                    <i class="material-icons floating">sort</i><div class="floating">miniDLT.py</div>
                </div>
            </ul>    
        </div>
</div>
<div id="editor">
def test():
	pass


}</div>
</div>

<div class="hide" id="foldertemplate">
    <div class="fileitem">
       <div onclick="openclose(this);"> <i class="material-icons floating">folder</i><div class="floating">::foldername::</div></div>
        <ul class="foldercontent hide">
            ::content::
        </ul>    
    </div>
</div>
<div class="hide" id="filetemplate">
    <div class="fileitem" onclick="sendLoadFile('::filepath::');">
        <i class="material-icons floating">sort</i><div class="floating">::filename::</div>
    </div>
</div>

<!--- <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/ace.js"></script> -->
<script>

document.addEventListener("keydown", function(e) {
  if ((window.navigator.platform.match("Mac") ? e.metaKey : e.ctrlKey)  && e.keyCode == 83) {
    e.preventDefault();
        //alert("Ctrl-S pressed");
        sendSaveFile(currentfile);
    event.preventDefault();
    
    event.stopPropagation();
    return false;
    // Process the event here (such as click on submit button)
  }
}, false);
     
    console.log("Hello Rasmus");
    console.log(ace);
    var editor = ace.edit("editor");
//    editor.setTheme("ace/theme/monokai");
//    editor.setTheme("ace/theme/twilight");    
    editor.setTheme("ace/theme/dracula");    
//    editor.session.setMode("ace/mode/javascript");
    editor.session.setMode("ace/mode/python");
    //editor.session.setMode("ace/mode/java");

sendListFile();

function saveMe(){
   alert(editor.getValue());                                
}


</script>
</body>
</html>